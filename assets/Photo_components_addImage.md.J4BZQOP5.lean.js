import{a as S,p as D,E as d}from"./chunks/theme.DzZHhdEY.js";import{aw as O,b as s,j as R,ai as r,o as u,c as i,V as t,a as w,P as c,T as y,u as T}from"./chunks/framework.cq3OhUo2.js";const q={class:"add-image"},z={key:0,class:"input-add"},J={class:"but"},$={key:1,class:"add"},A=["src"],F={__name:"addImage",setup(b){const m=window.location.search.slice(1),x=new URLSearchParams(m).get("type"),_=s(!0),l=s(""),n=s(""),P=()=>{l.value==="admin"&&n.value==="lhhandfrg1124"?(_.value=!1,d({message:"验证成功",type:"success"})):(d({message:"用户名或密码错误",type:"error"}),l.value="",n.value="")},k=()=>{l.value="",n.value=""},I=s(""),U=s({token:"223b0a2b607ee12e17b9d6f04ac28187"}),g=[],f=s(""),p=s(!1),C=(e,a)=>{console.log(e,a)},j=e=>{f.value=e.url,p.value=!0},B=(e,a)=>{I.value=e.data.url,d.success("上传成功"),console.log(e),e.data.url},N=e=>{if(["image/jpeg","image/png","image/gif"].includes(e.type)){if(e.size/1024/1024>10)return d.error("图片大小不能超过 10MB!"),!1}else return d.error("只能上传jpg,gif,png格式的图片!"),!1;return!0};return R(async()=>{const e=await S.post("https://www.imgtp.com/api/images",{page:1,rows:20},{headers:{token:"8f61c7bfe77e125d54e13ee754d00a78"}});console.log(e)}),(e,a)=>{const v=r("el-input"),h=r("el-button"),E=r("el-icon"),L=r("el-upload"),M=r("el-dialog");return u(),i("div",q,[_.value?(u(),i("div",z,[t(v,{modelValue:l.value,"onUpdate:modelValue":a[0]||(a[0]=o=>l.value=o),style:{width:"240px"},placeholder:"请输入账户名",clearable:"",maxlength:"8","show-word-limit":""},null,8,["modelValue"]),t(v,{modelValue:n.value,"onUpdate:modelValue":a[1]||(a[1]=o=>n.value=o),style:{width:"240px"},type:"password",placeholder:"请输入密码","show-password":"",maxlength:"15","show-word-limit":""},null,8,["modelValue"]),w("div",J,[t(h,{type:"primary",onClick:P},{default:c(()=>[y("验证")]),_:1}),t(h,{type:"success",onClick:k},{default:c(()=>[y("重置")]),_:1})])])):(u(),i("div",$,[t(L,{"file-list":g,"onUpdate:fileList":a[2]||(a[2]=o=>g=o),name:"image",headers:U.value,data:{sss:123},action:"https://www.imgtp.com/api/upload","list-type":"picture-card","on-success":B,"before-upload":N,"on-preview":j,"on-remove":C},{default:c(()=>[t(E,null,{default:c(()=>[t(T(D))]),_:1})]),_:1},8,["headers"]),t(M,{modelValue:p.value,"onUpdate:modelValue":a[3]||(a[3]=o=>p.value=o)},{default:c(()=>[w("img",{"w-full":"",src:f.value,alt:"Preview Image"},null,8,A)]),_:1},8,["modelValue"])]))])}}},G=O(F,[["__scopeId","data-v-d68e1ae8"]]),W=JSON.parse('{"title":"","description":"","frontmatter":{"layout":"page","sidebar":false},"headers":[],"relativePath":"Photo/components/addImage.md","filePath":"Photo/components/addImage.md"}'),H={name:"Photo/components/addImage.md"},X=Object.assign(H,{setup(b){return(m,V)=>(u(),i("div",null,[t(G)]))}});export{W as __pageData,X as default};
